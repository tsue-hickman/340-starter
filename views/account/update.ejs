<%- include('../partials/head') %> <%- include('../partials/header') %> <%-
include('../partials/navigation') %>

<main>
  <h1>Update Account</h1>

  <% if (messages.error) { %>
  <ul class="error">
    <% messages.error.forEach(err => { %>
    <li><%= err %></li>
    <% }); %>
  </ul>
  <% } %>

  <form id="updateForm" action="/account/update" method="POST">
    <input type="hidden" name="account_id" value="<%= account_id %>" />
    <label for="account_firstname"
      >First Name:
      <input
        type="text"
        name="account_firstname"
        value="<%= locals.account_firstname || '' %>"
        required
    /></label>
    <label for="account_lastname"
      >Last Name:
      <input
        type="text"
        name="account_lastname"
        value="<%= locals.account_lastname || '' %>"
        required
    /></label>
    <label for="account_email"
      >Email:
      <input
        type="email"
        name="account_email"
        value="<%= locals.account_email || '' %>"
        required
    /></label>
    <button type="submit">Update</button>
  </form>

  <script>
    document.getElementById("updateForm").addEventListener("submit", (e) => {
      // Similar validation as register
      // ...
    });
  </script>
</main>

<%- include('../partials/footer') %>
