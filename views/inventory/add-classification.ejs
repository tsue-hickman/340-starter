<%- include('../partials/head') %> <%- include('../partials/header') %> <%-
include('../partials/navigation') %>

<main>
  <h1>Add New Classification</h1>
  <p>Note: Classification name cannot contain spaces or special characters.</p>

  <% if (messages.error) { %>
  <ul class="error">
    <% messages.error.forEach(err => { %>
    <li><%= err %></li>
    <% }); %>
  </ul>
  <% } %>

  <form id="addClassForm" action="/inv/add-classification" method="POST">
    <label for="classification_name"
      >Classification Name:
      <input
        type="text"
        name="classification_name"
        id="classification_name"
        required
        pattern="^[a-zA-Z0-9]+$"
      />
    </label>
    <button type="submit">Add Classification</button>
  </form>

  <script>
    // Client-side validation
    document.getElementById("addClassForm").addEventListener("submit", (e) => {
      const name = document.getElementById("classification_name").value;
      if (!name) {
        alert("Classification name is required.");
        e.preventDefault();
      } else if (/\s|[^a-zA-Z0-9]/.test(name)) {
        alert("No spaces or special characters allowed.");
        e.preventDefault();
      }
    });
  </script>
</main>

<%- include('../partials/footer') %>
